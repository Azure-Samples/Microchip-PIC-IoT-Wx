# Creating an Enrollment Group for an IoT Central Application

1. To create an X.509 enrollment group, sign in to your IoT Central application.  Using the left-hand navigation pane, click on `Administration` and then select `Device connection`

2. Select `+ Create enrollment group`, and create a new enrollment group using any name (Group type = `IoT devices`, attestation type = `Certificates (X.509)`).  Hit `Save` when finished

    <img src=".//media/image81.png" style="width:6.5.in;height:4.43506in" alt="A screenshot of a cell phone Description automatically generated" />

3. Now that the new enrollment group has been created, select `+ Manage Primary`.

4. Select the file/folder icon associated with the `Primary` field and upload the root certificate file `root-ca.crt` (located in the `.microchip_iot` folder that was created when you ran the `IoT Provisioning Tool`).  The message `(!) Needs verification` should appear.  The `Subject` and `Thumbprint` fields will automatically populate themselves.

5.	Click `Generate verification code` (this code will be copied to the clipboard which will be needed in a future step)

6. Open a Git Bash window (Start menu &gt; type `Git Bash`)

    <img src=".//media/image15.png" style="width:3.21739in;height:0.94745in" alt="A picture containing ball, clock Description automatically generated" />

7. Using the Git Bash command line, navigate to your certificates folder (which was generated by the `IoT Provisioning Tool`)

    ```bash
    cd <path>\.microchip-iot
    ```

8. Execute the below command in the Git Bash window (copy and paste for best results)

    **Note**: Once you enter the below command, you will then be asked to enter information for various fields that will be incorporated into your certificate request. Enter the verification code (which was just generated previously) when prompted for the `Common Name`. It's recommended to just copy the Verification code to the clipboard and paste it when it's time to enter the `Common Name`.  For the rest of the fields, you can enter anything you want (or just hit `[RETURN]` to keep them blank which is fine for basic demonstration purposes).  If you accidentally hit `[RETURN]` when asked for the `Common Name`, you will need to run the command again...

    ```bash
    openssl req -new -key root-ca.key -out azure_root_ca_verification.csr
    ```
    <img src=".//media/image16.png" style="width:5.in;height:3.18982in" alt="A screenshot of a cell phone Description automatically generated" />

9. Generate the verification certificate by executing the following command (copy and paste for best results)

    ```bash
    openssl x509 -req -in azure_root_ca_verification.csr -CA root-ca.crt -CAkey root-ca.key -CAcreateserial -out azure_signer_verification.cer -days 365 -sha256
    ```

10. Click `Verify` and select the `azure_signer_verification.cer` file to upload.  Confirm that the `Primary` certificate has been verified and that a `Thumbprint` has been generated for your certificate.  Click on `Close` to exit the window.  The X.509 enrollment group should be ready to go!

    <img src=".//media/image82.png" style="width:5.in;height:2.18982in" alt="A screenshot of a cell phone Description automatically generated" />
